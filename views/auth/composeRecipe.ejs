<%- include("../partials/header", {auth}) -%>

<div class="row justify-content-center container mt-4 mb-3 p-1 mx-auto">
  <div class="col-lg-10 col-md-12 mx-auto shadow-sm">
    <form
      id="recipe-form"
      class="border p-2 rounded bg-white mb-2"
      method="POST"
      action="/recipes/compose"
      enctype="multipart/form-data"
    >
      <h1 class="mb-1 mt-4 text-center">Create Recipe</h1>
      <p class="text-center mb-4">
        Form laid out in order content will appear on page
      </p>

      <div class="form-group col-lg-3 col-sm-4">
        <label class="mt-2 font-weight-bold" for="date">Date</label>
        <input
          title="Date you'd like to appear on recipe"
          class="form-control mb-3"
          type="text"
          name="date"
          id="date"
          required
        />
      </div>

      <div class="form-group col-lg-8 col-sm-6 mb-4">
        <label class="font-weight-bold" for="title">Title</label>
        <input
          title="Title as you'd like it to appear on recipe header and card"
          class="form-control"
          type="text"
          name="title"
          id="title"
          required
        />
      </div>

      <!-- TODO: Clear file -->
      <div class="form-group col mb-4">
        <div class="form-group w-50 mb-4">
          <label
            title="Photo you'd like displayed at top of recipe page and on card"
            class="font-weight-bold"
            for="img1"
            >Main Photo <small>5MB limit</small></label
          >
          <input class="mb-2" type="file" name="img1" required />
        </div>

        <label class="font-weight-bold" for="content1">First Paragraph</label>
        <textarea
          class="form-control mb-4"
          name="content1"
          id="content1"
          rows="5"
          placeholder="Text describing recipe..."
          required
        ></textarea>

        <div class="form-group w-50 mb-4">
          <label class="font-weight-bold" for="img2"
            >Additional Photo <small>5MB limit</small></label
          >
          <input class="mb-2" type="file" name="img2" />
        </div>

        <label class="font-weight-bold" for="content1">Second Paragraph</label>
        <textarea
          class="form-control mb-4"
          name="content2"
          id="content2"
          rows="5"
          placeholder="Optional text further describing recipe"
        ></textarea>

        <div class="form-group w-50 mb-4">
          <label class="font-weight-bold" for="img3"
            >Additional Photo <small>5MB limit</small></label
          >
          <input class="mb-2" type="file" name="img3" />
        </div>
        <label class="font-weight-bold" for="content1">Third Paragraph</label>

        <textarea
          class="form-control mb-4"
          name="content3"
          id="content3"
          rows="5"
          placeholder="Optional text further describing recipe"
        ></textarea>
      </div>

      <div class="form-group col">
        <label class="font-weight-bold" for="comment">Card Comments</label>
        <textarea
          title="Short description to display on card. Max chars 130."
          class="form-control mb-4"
          name="comment"
          placeholder="Text to display on card"
          rows="3"
          maxlength="130"
          required
        ></textarea>
      </div>

      <div class="form-group col-lg-4 col-sm-6">
        <label class="font-weight-bold" for="submittedBy">Recipe Author</label>
        <input
          title="Creator of recipe to be displayed on card and recipe page"
          class="form-control"
          type="text"
          name="submittedBy"
        />
      </div>
      <div class="form-group col d-flex">
        <button
          class="btn btn-danger btn-block mr-3"
          type="submit"
          name="button"
        >
          Publish
        </button>
        <button id="clear-recipe-btn" class="btn btn-light">Clear</button>
      </div>
    </form>
  </div>
</div>

<script>
  const clearBtn = document.getElementById("clear-recipe-btn");
  clearBtn.addEventListener("click", () => {
    const recipeForm = document.getElementById("recipe-form");
    recipeForm.reset();
  });
</script>
